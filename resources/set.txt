storage Set (a) {
  map: Map(a, Uint)
  array: Array(a)

  use array.get
  use array.length

  has (value: a): Boolean {
    return map[value] != 0
  }

  add (value: a) {
    if (has(value)) {
      array.push(value)
      map[value] = array.length()
    }
  }

  remove (value: a) {
    let index = map[value]
    if (index != 0) {
      let last = array.last()
      array[index - 1] = last
      map[last] = index
      map[value] = 0
    }
  }
}
